<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>PrivateRedirectJS</title>
</head>

<body>
    <h1>PrivateRedirectJS</h1>
    <p><em>Reconstruct social links to privacy-friendly front-ends</em></p>
    <hr>

    <p><strong>Instagram to <a target="_blank" href="https://github.com/cloudrac3r/bibliogram">Bibliogram</a></strong><br><em>Enter full direct link to Instagram profile or post</em></p>
    <p><strong>Twitter to <a target="_blank" href="https://github.com/zedeus/nitter">nitter</a></strong><br><em>Enter full direct link to Twitter profile or tweet</em></p>
    <p><strong>YouTube to <a target="_blank" href="https://github.com/iv-org/invidious">Invidious</a></strong><br><em>Enter full direct link to YouTube channel or video</em></p>

    <p><input id="input" type="text"></p>
    <p>
        <input type="submit" value="Convert" onclick="privateRedirect();">
        <input type="reset" value="Clear" onclick="reset();">
    </p>
    <p></p>
    <p><a target="_blank" id="output"></a></p>

    <script>
        function privateRedirect() {
            var outputElement = document.getElementById("output");
            var input = document.getElementById("input").value;
            outputElement.innerText = "";
            if (isNotEmpty(input)) {
                var instagram = "instagram.com/";
                var twitter = "twitter.com/";
                var youtube = "youtube.com/";
                if (input.includes(instagram + "p/")) {
                    setAnchor(outputElement, "https://bibliogram.art/" + input.split(instagram)[1]);
                } else if (input.includes(instagram)) { // 
                    setAnchor(outputElement, "https://bibliogram.art/u/" + input.split(instagram)[1]);
                } else if (input.includes(twitter)) {
                    setAnchor(outputElement, "https://nitter.net/" + input.split(twitter)[1]);
                } else if (input.includes(youtube)) {
                    setAnchor(outputElement, "https://invidiou.site/" + input.split(youtube)[1]);
                } else {
                    reset();
                }
            }
        }
        function isNotEmpty(str) {
            return !(str == "" || str === null || /\s/.test(str));
        }
        function setAnchor(element, link) {
            element.innerText = link;
            element.href = link;
        }
        function reset() {
            document.getElementById("input").value = "";
            document.getElementById("output").innerText = "";
        }
    </script>
</body>

</html>